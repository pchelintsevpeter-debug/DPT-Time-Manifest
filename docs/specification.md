# Digital Planetary Time (DPT) — Specification

Digital Planetary Time (DPT) — глобальный цифровой календарь для машин и контрактов. 
DPT создаёт непрерывную временную шкалу, состоящую из 360 цифровых дней, 
каждый из которых может быть точно разделён на PT-единицы (Pt-seconds, Pt-minutes, Pt-hours и т.д.).

## Основные единицы DPT

| Единица        | Кол-во PT | Эквивалент в секундах (SI) | Комментарий |
|----------------|-----------|---------------------------|-------------|
| 1 PT           | 1         | 0.1 s                     | Минимальная цифровая единица |
| 1 PT-second    | 10        | 1 s                        | Совпадает с SI секундой |
| 1 PT-minute    | 360       | 36 s                       | Удобно для деления 360 дней |
| 1 PT-octave    | 3600      | 6 min                      | Промежуточный временной блок |
| 1 PT-hour      | 36000     | 1 h                        | 60 PT-минут |
| 1 цифровой день| 864000    | 24 h                       | Полный день DPT |

## Алгоритм перевода UTC ↔ DPT

1. **Инициализация года**
   - Выбираем период от весеннего равноденствия текущего года до весеннего равноденствия следующего года.
   - Длина года в секундах: `total_seconds = epoch_end - epoch_start`
   - Цифровой день: `day_seconds = total_seconds / 360`

2. **UTC → DPT**
   - Вычисляем `elapsed_seconds = UTC - epoch_start`
   - Определяем день: `day_index = floor(elapsed_seconds / day_seconds) + 1`
   - Определяем секунду внутри дня: `pt_second = elapsed_seconds % day_seconds`
   - Результат: `{DPT_year, day_index, pt_second}`

3. **DPT → UTC**
   - `total_seconds = (day - 1) * day_seconds + pt_second`
   - `UTC = epoch_start + total_seconds`

## JSON-манифест DPT

Каждый DPT-год сопровождается JSON-файлом, включающим:

- DPT_year — цифровой год
- version — версия манифеста
- epoch_start / epoch_end — границы года в UTC
- day_count — количество цифровых дней (360)
- day_seconds — длина дня в секундах
- pt_definition — определение PT-единиц
- checksum — SHA256 хеш для проверки целостности
- authority — идентификатор издателя
- signature — цифровая подпись манифеста
- comment — примечания

{
  "DPT_year": 5786,
  "version": "1.0",
  "epoch_start": "2025-03-20T09:01:00Z",
  "epoch_end": "2026-03-20T14:46:00Z",
  "day_count": 360,
  "day_seconds": 87657.5,
  "pt_definition": {
    "1_pt": 0.1,
    "1_pt_second": 1.0,
    "1_pt_minute": 36.0,
    "1_pt_octave": 3600.0,
    "1_pt_hour": 36000.0,
    "1_day_pt_units": 864000.0
  }
}

## Рекомендации

- Использовать SDK для всех конверсий UTC ↔ DPT
- Загружать манифесты с доверенных репозиториев (GitHub, IPFS)
- Проверять контрольную сумму (SHA256) перед использованием
- Использовать подпись authority для верификации источника
- Не привязывать DPT к локальному человеческому времени — оно служит только для машин, контрактов и глобальной синхронизации
